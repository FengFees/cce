# 集群概述<a name="cce_01_0002"></a>

集群是容器运行所需云资源的集合，包含了若干台服务器节点、虚拟私有云等云资源。

## 集群与虚拟私有云、子网的关系<a name="section03011621171120"></a>

-   “虚拟私有云“类似家庭生活中路由器管理192.168.0.0/16的私有局域网，是为用户在云上构建的一个私有网络，是弹性云服务器、负载均衡、中间件等工作的基本网络环境。根据实际业务需要可以设置不同规模的网络，一般可为10.0.0.0/8~24，172.16.0.0/12~24，192.168.0.0/16~24，其中最大的网络10.0.0.0/8的A类地址网络。
-   子网是虚拟私有云中的一个子集，可以将虚拟私有云划分为一个个子网，每个子网之间可以通过安全组控制其之间能否互通，保证子网之间可以相互隔离，用户可以将不同业务部署在不同的子网内。
-   集群是“同一个子网中一个或多个弹性云服务器（又称：节点）“通过相关技术组合而成的计算机群体，为容器运行提供了计算资源池。

如图，同一个region下可以有多个虚拟私有云（图中以VPC表示）。虚拟私有云由一个个子网组成，子网与子网之间的网络交互通过子网网关完成，而集群就是建立在某个子网中。因此，存在以下三种场景：

-   不同集群可以创建在不同的虚拟私有云中。
-   不同集群可以创建在同一个子网中。
-   不同集群可以创建在不同的子网中。

**图 1**  集群与VPC、Subnet的关系<a name="fig43963373019"></a>  
![](figures/集群与VPC-Subnet的关系.png "集群与VPC-Subnet的关系")

## 集群使用须知<a name="section12415304374"></a>

在创建、删除、扩容和缩容集群的操作中，请不要在统一身份认证服务（IAM）中执行权限变更或修改的操作，可能会导致创建、删除、扩容和缩容集群执行失败。

>![](public_sys-resources/icon-notice.gif) **注意：**   
>-   CCE节点的容器网络canal会使用一个网段作为容器网络的网段，该网段在创建集群时可配置，默认为172.16.0.0/16；docker服务也会默认创建一个docker0的网桥，docker0的默认地址为172.17.0.1。创建集群时，请确保集群中VPC（虚拟私有云）所在的网段不能和上述两个网段重复。使用VPC的对等连接功能时，对端的VPC也不能和上述两个网段重复。  
>-   建议不要修改CCE创建的安全组、云硬盘等信息，会导致CCE集群功能异常（CCE创建的资源标记有“cce”）。  

## 节点使用须知<a name="section19751152619340"></a>

节点的部分资源需要运行一些必要的Kubernetes系统组件和Kubernetes系统资源，使该节点可作为您的集群的一部分。 因此，您的节点资源总量与节点在Kubernetes中的可分配资源之间会存在差异。节点的规格越大，在节点上部署的容器可能会越多，所以Kubernetes自身需预留更多的资源。

为了保证节点的稳定性，CCE集群节点上会根据节点的规格预留一部分资源给Kubernetes的相关组件（kubelet、kube-proxy以及docker等）。

>![](public_sys-resources/icon-note.gif) **说明：**   
>建议不要在集群的节点上安装自己的软件，也不建议用户修改操作系统配置。可能会导致安装在节点上的Kubernetes组件异常，节点状态变成不可用，导致无法部署工作负载到此节点。  

